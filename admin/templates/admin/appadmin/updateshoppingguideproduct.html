{% extends "admin/base.html" %}
{% load static %}

{% block withnavbody %}
<div class="col-md-offset-4">
    <h1>修改导购商品</h1>
    <hr/>
    <form class="form-horizontal" id="productForm" v-on:submit.prevent="updateProduct">
        {% csrf_token %}
        <input type="hidden" id="id" value="{{product.id}}" />
        <div class="form-group">
            <input type="hidden" id="name" value="{{product.name}}" />
            <div class="col-md-2">
                <label class="pull-right">商品名</label>
            </div>
            <div class="col-md-2">
                <input v-model="product.name" type="text" class="form-control" />
            </div>
        </div>
        <div class="form-group">
            <input type="hidden" id="description" value="{{product.description}}" />
            <div class="col-md-2">
                <label class="pull-right">商品描述</label>
            </div>
            <div class="col-md-4">
                <textarea rows="3" v-model="product.description"></textarea>
            </div>
        </div>
        <div class="form-group">
            <input type="hidden" id="linkUrl" value="{{product.linkUrl}}" />
            <div class="col-md-2">
                <label class="pull-right">商品链接</label>
            </div>
            <div class="col-md-4">
                <input type="text" v-model="product.linkUrl" class="form-control"/>
            </div>
        </div>
        <div class="form-group">
            <input type="hidden" id="productImgUrl" value="{{product.productImgUrl}}" />
            <div class="col-md-2">
                <label class="pull-right">展示图片</label>
            </div>
            <div class="col-md-4">
                <input v-on:change="updateImg" type="file" id="productImg"/>
            </div>
            <div class="col-md-2">
                <img alt="预览" v-bind:src="product.productImgUrl" class="thumbnail" width="100" height="100"/>
            </div>
        </div>
        <div class="form-group">
            <input type="hidden" id="show" value="{{product.show}}" />
            <div class="col-md-2">
                <label class="pull-right">是否显示</label>
            </div>
            <div class="col-md-4">
                <label class="radio-inline">
                    <input v-model="product.show" type="radio" name="show" value="True"/> 是
                </label>
                <label class="radio-inline">
                    <input v-model="product.show" type="radio" name="show" value="False" /> 否
                </label>
            </div>
        </div>
        <div class="form-group">
            <input type="hidden" id="order" value="{{product.order}}" />
            <div class="col-md-2">
                <label class="pull-right">显示顺序</label>
            </div>
            <div class="col-md-2">
                <input v-model="product.order" type="text" class="form-control"/>
            </div>
            <span class="label label-info">数字越大，显示越前</span>
        </div>
        <div class="col-md-offset-2">
            <button type="submit" class="btn btn-primary">修改</button>
        </div>
    </form>
</div>
<hr/>
{% endblock %}

{% block js %}
<script src="{% static 'js/js.cookie.js' %}"></script>
<script src="{% static 'js/admin/appadmin/updateshoppingguideproduct.js' %}"></script>
{% endblock %}